reasoning:
  enabled: true
  max_iterations: 3
  analyst_timeout: 60
  critic_timeout: 30
  writer_timeout: 90  # Increased from 45s to 90s for long-form generation (Phase 3)

  # Feature flags for enhanced reasoning capabilities
  features:
    user_friendly_sse: true   # Phase 1: User-friendly Chinese progress messages
    plan_and_write: true      # Phase 3: Plan-and-Write for long reports (2000+ words)
    argument_graphs: true     # Phase 2: Structured argument decomposition
    structured_critique: true # Phase 2: Structured weakness detection

  # Auto-REJECT thresholds for Phase 2 structured critique
  critique_thresholds:
    critical_weakness_count: 2  # Auto-escalate to REJECT if >= N critical weaknesses
    source_tier_violations: 1    # Max acceptable source tier violations

  tracing:
    console:
      enabled: true
      level: DEBUG  # ERROR, WARN, INFO, DEBUG, TRACE (local dev default: DEBUG)
      colors: true
    file:
      enabled: true
      save_event_stream: true
      save_full_data: true

source_tiers:
  # Tier 1: Official (3 sources)
  "中央社": {tier: 1, type: "official"}
  "公視": {tier: 1, type: "official"}
  "行政院": {tier: 1, type: "government"}

  # Tier 2: Mainstream (3 sources)
  "聯合報": {tier: 2, type: "news"}
  "經濟日報": {tier: 2, type: "news"}
  "自由時報": {tier: 2, type: "news"}

  # Tier 3: Digital (2 sources)
  "報導者": {tier: 3, type: "digital"}
  "關鍵評論網": {tier: 3, type: "digital"}

  # Tier 5: Social (2 sources)
  "PTT": {tier: 5, type: "social"}
  "Dcard": {tier: 5, type: "social"}

mode_configs:
  strict:
    max_tier: 2
  discovery:
    max_tier: 5
  monitor:
    compare_tiers: [1, 5]

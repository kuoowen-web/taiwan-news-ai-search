# `scientific-skills` 技能總結

這個工具箱涵蓋了從數據獲取、探索、分析到最終出版級可視化的完整科學計算工作流程。各項技能的定位如下：

### 核心分析與數據處理

*   **`datacommons-client`**: **數據獲取**。用於訪問 Data Commons 的大型公共數據庫，獲取人口、經濟、健康等方面的權威統計數據。

*   **`exploratory-data-analysis` (EDA)**: **數據初探**。一個自動化工具，能識別超過200種科學數據格式，並生成一份詳細的探索性分析報告，快速了解數據結構、質量和基本特徵。

*   **`geopandas`**: **地理空間分析**。專門用於處理地理向量數據（如 Shapefile），進行空間查詢、分析和地圖繪製。

*   **`sympy`**: **符號數學**。一個計算機代數系統，用於精確地進行代數推導、微積分運算和求解方程，處理的是數學符號而非數值。

*   **`networkx`**: **網絡分析**。用於創建、分析和可視化複雜網絡（圖），計算節點中心性、檢測社群等，應用於社交網絡、生物網絡等領域。

*   **`statistical-analysis`**: **正式統計分析**。一個元技能，指導您完成嚴謹的學術研究分析流程，包括選擇合適的統計檢驗、檢查假設前提、計算效應量，並以學術（APA）格式報告結果。

---

### 可視化

三大核心可視化技能，各有側重：

*   **`matplotlib`**: **基礎繪圖與精細控制**。Python 最基礎的可視化庫，當您需要對圖表的每一個細節進行完全控制時使用。它是許多其他庫的底層基礎。

*   **`seaborn`**: **統計繪圖**。基於 Matplotlib，專為統計分析設計。它與 Pandas DataFrame 緊密集成，可以用非常簡潔的代碼生成富有信息量且美觀的統計圖表，如箱形圖、小提琴圖、熱力圖等。

*   **`plotly`**: **交互式繪圖**。當您需要創建帶有懸停提示、縮放、平移等功能的交互式圖表時的首選。非常適合製作儀表板或在網頁中展示數據。

---

### 出版與整合

*   **`scientific-visualization`**: **出版級圖表製作**。這是一個元技能，它不創造新的圖表類型，而是整合 `matplotlib` 和 `seaborn`，提供預設樣式、輔助腳本和最佳實踐，幫助您創建符合頂級期刊（如 Nature, Science）嚴格要求的、具有專業外觀和高可讀性的圖表。

---
---

## 各項技能詳細說明

### 技能：`datacommons-client`

**用途**：
此技能用於和 **Data Commons** 平台互動。Data Commons 是一個大型知識圖譜，整合了來自世界各地（如人口普查局、世界銀行、美國疾病控制與預防中心等）的公開統計數據。當您需要處理人口統計、經濟指標、健康統計或環境數據等公開數據集時，此技能非常有用。

**核心功能**：
這個工具包的核心是圍繞著 Data Commons API 的三個主要端點建立的：

1.  **Observation (觀測)**：這是最主要的功能，用於查詢時間序列的統計數據。例如，您可以獲取某個國家多年的失業率、某個城市的人口增長情況，或比較不同地區的家庭收入中位數。
2.  **Node (節點)**：用於探索數據之間的關係。Data Commons 將所有數據組織成一個知識圖譜，您可以使用此功能來導航這個圖譜。例如，查詢「美國包含哪些州？」或「加州有哪些屬性可供查詢？」。
3.  **Resolve (解析)**：將人類可讀的名稱（如 "California"、"New York City"）轉換為 Data Commons 內部使用的唯一標識符（稱為 DCID，例如 `geoId/06`）。在查詢數據之前，這通常是第一步。

**典型工作流程**：
一個標準的使用流程如下：
1.  **解析實體**：使用 `resolve` 將地名或實體名轉換為 DCIDs。
2.  **查詢數據**：使用 `observation` 和上一步得到的 DCIDs 來獲取您感興趣的統計數據。
3.  **處理結果**：API 客戶端與 Pandas 庫能良好整合，可以輕易地將查詢結果轉換為 DataFrame 格式，方便後續進行數據分析和可視化。

**參考資料**：
`references` 文件夾內包含了更詳細的文檔，分別對應上述的三個核心功能（`observation.md`, `node.md`, `resolve.md`），並提供了一份 `getting_started.md` 入門指南。

總之，`datacommons-client` 是一個強大的工具，能讓您以編程方式，輕鬆獲取和整合大量、權威的公開數據。

---

### 技能：`exploratory-data-analysis` (EDA)

**用途**：
此技能專門用於對科學數據文件進行**探索性數據分析 (Exploratory Data Analysis, EDA)**。當您拿到一個不熟悉的數據文件，想了解其內部結構、內容、質量和基本特徵時，就應該使用這個技能。它能夠自動識別超過 200 種科學數據格式，並生成一份詳細的 Markdown 格式分析報告。

**核心功能**：

1.  **自動格式檢測**：能根據文件擴展名自動識別文件類型，涵蓋了化學、生物資訊學、顯微影像、光譜學、蛋白質體學等多個領域。
2.  **針對性分析**：根據不同的文件格式，執行特定的分析。例如，對於 CSV 表格數據，它會計算統計摘要；對於 FASTQ 序列數據，它會分析序列長度和鹼基質量；對於顯微鏡圖像，它會提取圖像維度和元數據。
3.  **數據質量評估**：檢查數據的完整性，如缺失值、異常值、數據格式是否符合標準等。
4.  **生成詳細報告**：分析完成後，會創建一份結構化的 Markdown 報告。報告內容包括文件基本信息、數據結構、統計摘要、質量評估以及對後續分析的建議（例如推薦使用哪些工具或方法）。

**典型工作流程**：

1.  **識別文件**：用戶提供文件路徑，技能首先識別文件類型。
2.  **加載格式信息**：從 `references` 文件夾中查找對應格式的詳細說明，了解該格式的典型數據內容、用途以及推薦的 Python 處理庫。
3.  **執行分析**：可以使用 `scripts/eda_analyzer.py` 腳本全自動執行分析，或者根據參考信息編寫自定義代碼進行更靈活的分析。
4.  **生成並保存報告**：將所有分析結果彙總到一份 Markdown 文件中，並以 `{原始文件名}_eda_report.md` 的格式保存。

**重要文件**：

*   `scripts/eda_analyzer.py`: 一個核心腳本，能自動化完成整個 EDA 流程。
*   `assets/report_template.md`: EDA 報告的標準模板。
*   `references/`: 一個包含極其詳盡信息的資料庫，按類別（如 `bioinformatics_genomics_formats.md`）整理了數百種文件格式的詳細說明。

總之，`exploratory-data-analysis` 是一個功能強大的自動化工具，旨在標準化和簡化科學數據的初步探索過程，幫助研究人員快速評估數據質量並規劃下一步的分析策略。

---

### 技能：`geopandas`

**用途**：
此技能專門用於處理**地理空間向量數據**。`geopandas` 是一個基於 `pandas` 的擴展庫，它讓 Python 具備了類似地理信息系統 (GIS) 的功能。當您需要讀取、寫入、分析或可視化如 Shapefile、GeoJSON、GeoPackage 等格式的地理數據時，就應該使用此技能。

**核心概念**：

1.  **數據結構**：
    *   `GeoSeries`: 存儲地理空間幾何對象（點、線、多邊形）的向量。
    *   `GeoDataFrame`: 核心數據結構，可以看作是一個帶有特殊「geometry」欄位的 `pandas` DataFrame，這個欄位就是一個 `GeoSeries`。
2.  **坐標參考系統 (CRS)**：這是地理空間分析的基礎。CRS 定義了地理數據如何與地球上的真實位置相關聯。`geopandas` 提供了強大的功能來檢查 (`.crs`)、設定 (`.set_crs()`) 和轉換 (`.to_crs()`) 數據的 CRS。正確處理 CRS 對於保證分析的準確性至關重要。
3.  **文件讀寫**：能夠輕鬆讀寫多種主流的地理空間數據格式。

**主要操作**：

1.  **幾何操作**：對單個幾何對象進行操作，例如：
    *   `buffer`: 創建緩衝區（例如，在一個點周圍創建一個圓形區域）。
    *   `simplify`: 簡化複雜的線或多邊形以提高性能。
    *   `centroid`: 計算幾何對象的質心。
2.  **空間分析**：分析不同地理數據集之間的關係，例如：
    *   **空間連接 (`sjoin`)**: 根據地理位置關係（如相交、包含）將兩個 `GeoDataFrame` 合併。例如，找出哪些商店位於哪些行政區域內。
    *   **疊加分析 (`overlay`)**: 對兩個圖層進行交、並、差等集合運算。
    *   **融合 (`dissolve`)**: 根據某個屬性將相鄰的多邊形融合成一個。
3.  **可視化**：
    *   可以輕鬆創建靜態地圖（分層設色圖、多圖層疊加等），底層使用 `matplotlib`。
    *   通過 `.explore()` 方法，可以快速創建交互式地圖（基於 `folium`），並保存為 HTML 文件。

**最佳實踐**：
文檔強調了幾個要點：始終檢查和匹配 CRS、在計算面積或距離時使用投影坐標系、優先使用現代的 GeoPackage 格式（優於 Shapefile），以及利用空間索引來提升性能。

總之，`geopandas` 是在 Python 中進行向量地理數據分析的基礎和核心工具，它將 `pandas` 強大的數據處理能力與地理空間計算完美結合。

---

### 技能：`matplotlib`

**用途**：
此技能涵蓋了 **Matplotlib** 的使用方法，它是 Python 中最基礎、最核心的可視化庫。當您需要對圖表的每一個元素（如坐標軸、標籤、顏色、樣式）進行精細控制，或者需要創建新穎的圖表類型時，就應該使用 Matplotlib。許多更高級的可視化庫（如 Seaborn）都是基於它構建的。

**核心概念**：

1.  **兩種接口 (Interface)**：
    *   **Pyplot 接口**：一種基於狀態的、類似 MATLAB 的簡單接口（例如 `plt.plot(...)`）。它很方便，適合快速、交互式的簡單繪圖。
    *   **物件導向 (Object-Oriented) 接口**：**官方推薦**的、功能更強大的接口（例如 `fig, ax = plt.subplots()`）。它讓您可以顯式地控制圖窗 (`Figure`) 和坐標軸 (`Axes`) 對象，更適合創建複雜的多子圖布局和可複用的繪圖代碼。
2.  **圖表層級結構**：一個 Matplotlib 圖表由不同層級的對象構成。頂層是 `Figure`（整個畫布或窗口），一個 `Figure` 可以包含一個或多個 `Axes`（即實際的繪圖區域）。

**主要功能**：

1.  **豐富的圖表類型**：能夠創建幾乎所有類型的靜態 2D 圖表（折線圖、散點圖、柱狀圖、直方圖、熱力圖等），並且也支持 3D 可視化。
2.  **高度可定製化**：提供對圖表所有元素的完全控制，包括顏色、線條樣式、字體、標題、圖例等。支持使用樣式表 (`plt.style.use(...)`) 來快速應用統一的主題。
3.  **靈活的布局**：提供強大的工具來創建包含多個子圖的複雜圖表，包括簡單的網格布局、更靈活的 `subplot_mosaic` 和功能最強大的 `GridSpec`。
4.  **高質量導出**：可以將圖表保存為多種適合出版的矢量（PDF, SVG）和標量（PNG）格式，並能精確控制分辨率（DPI）和邊距。

**最佳實踐**：
文檔強烈推薦使用物件導向接口，並建議使用 `constrained_layout=True` 來自動優化圖表布局，避免元素重疊。同時，也強調了選擇對色盲友好的、視覺上均勻的色板（Colormap）的重要性。

**輔助腳本**：
此技能包含 `plot_template.py`（一個帶有最佳實踐的繪圖模板）和 `style_configurator.py`（一個用於創建自定義樣式表的工具）。

總之，`matplotlib` 技能是一份關於如何在 Python 中創建高質量、可定製化可視化圖表的綜合指南，特別強調了代碼結構、可讀性和出版質量的最佳實踐。

---

### 技能：`networkx`

**用途**：
此技能是一份關於 **NetworkX** 庫的綜合指南。NetworkX 是 Python 中用於創建、操作和研究複雜網絡（即圖論中的「圖」）的主要庫。它被廣泛應用於任何涉及關係建模的場景，例如社交網絡分析、生物分子相互作用網絡、交通系統或知識圖譜。

**核心功能**：

1.  **圖的創建與操作**：解釋了如何從零開始構建圖，包括添加節點和帶有屬性（如權重）的邊，以及如何使用不同類型的圖（有向圖、無向圖、多重圖）。
2.  **圖算法**：提供了豐富的標準圖論算法庫。這包括：
    *   **路徑查找**：計算最短路徑。
    *   **中心性分析**：計算網頁排名 (PageRank)、介數中心性 (Betweenness Centrality) 等指標，以識別網絡中的關鍵節點。
    *   **社群檢測**：在網絡中發現緊密連接的節點群組或社群。
3.  **圖生成器**：內置了創建各種合成網絡模型的功能，例如隨機網絡、小世界網絡和無尺度網絡。這對於測試算法和進行理論建模非常有用。
4.  **導入/導出**：支持多種圖數據格式的讀寫，包括簡單的邊列表、能保存屬性的 GraphML 格式，並能與 `pandas` DataFrame、`numpy` 數組和 `scipy` 稀疏矩陣無縫轉換。
5.  **可視化**：雖然它本身不是一個專門的可視化庫，但它與 `matplotlib` 緊密集成，提供了靈活且可定製的繪圖功能。它提供多種佈局算法（如力導向佈局、環形佈局）來美化網絡的視覺呈現。

**典型工作流程**：
技能文檔概述了一個典型的分析流程：
1.  **創建或加載圖**。
2.  **檢查基本屬性**（節點數、邊數、密度等）。
3.  **使用算法進行分析**（計算中心性、檢測社群等）。
4.  **將圖及其屬性可視化**。
5.  **導出結果**（例如，保存分析後的圖或節點指標的 CSV 文件）。

**參考資料**：
`references` 文件夾結構清晰，為圖的基本操作、算法、生成器、I/O 和可視化分別提供了詳細的文檔，可作為一本完整的手冊使用。

總之，`networkx` 技能提供了在 Python 中使用圖論來建模、分析和可視化關係數據所需的全部工具和知識。

---

### 技能：`plotly`

**用途**：
此技能專注於 Plotly，一個用於創建**交互式**可視化圖表的 Python 庫。當您的圖表需要懸停提示（Hover）、縮放（Zoom）、平移（Pan）等交互功能，或者您想將圖表嵌入網頁時，Plotly 是最佳選擇。相比之下，如果您的目標是創建靜態的、用於學術出版的圖表，那麼 `matplotlib` 或 `scientific-visualization` 技能會更合適。

**核心 API**：

1.  **Plotly Express (`px`)**：這是一個高級、易於使用的接口，特別適合從 `pandas` DataFrame 快速創建標準圖表。官方推薦從 `px` 開始入手。
2.  **Graph Objects (`go`)**：這是一個更底層的接口，它讓您可以對圖表的每一個組件進行精細的控制。當 `px` 無法滿足您複雜或高度定製化的需求時，就應該使用 `go`。您也可以在用 `px` 創建圖表後，再用 `go` 的方法進行微調。

**主要功能**：

1.  **交互性**：這是 Plotly 的核心優勢。諸如懸停工具提示、縮放/平移、點擊圖例開關數據系列、製作動畫等功能都是內置的，無需額外編碼。
2.  **極其豐富的圖表類型**：支持超過 40 種圖表類型，涵蓋了基本圖表（散點圖、折線圖）、統計圖表（直方圖、箱形圖）、科學圖表（熱力圖、等高線圖）、3D 圖、地圖以及桑基圖 (Sankey)、旭日圖 (Sunburst) 等專業圖表。
3.  **靈活的樣式控制**：提供全面的定製化選項，從一鍵應用內置主題（如 `template='plotly_dark'`），到精確控制佈局、坐標軸、字體和顏色的每一個細節。
4.  **多樣的導出選項**：可以將圖表保存為獨立的、交互式的 HTML 文件。在安裝了 `kaleido` 庫之後，也可以導出為高質量的靜態圖片（PNG, PDF, SVG）。
5.  **與 Dash 集成**：Plotly 是 Dash 框架的可視化核心。Dash 是一個流行的 Python 框架，專門用於構建交互式的網絡儀表板和數據應用程序。

總之，`plotly` 技能專為在 Python 中創建現代、交互式和網絡友好的數據可視化而設計。

---

### 技能：`scientific-visualization`

**用途**：
這是一項**元技能 (meta-skill)**，它本身不介紹一個新的庫，而是教授如何利用其他可視化庫（主要是 `matplotlib` 和 `seaborn`）來創建**符合出版標準的圖表**。其核心目標是滿足頂級科學期刊（如 Nature, Science, Cell）的嚴格要求。

**核心原則**：
該技能圍繞一套高質量科學圖表的核心原則構建：

1.  **分辨率和格式**：強調使用正確的 DPI（如 300-600）和文件格式。矢量格式（如 PDF, SVG）優於位圖格式（如 PNG），絕不使用 JPG。
2.  **顏色可訪問性**：極力推薦使用對色盲友好的調色板（如 Okabe-Ito），以及視覺上均勻的連續色圖（如 `viridis`），並強調必須在灰度模式下測試圖表的可讀性。
3.  **字體排印**：規定了使用特定的無襯線字體（如 Arial, Helvetica）以及標籤的最小字號，以確保在印刷後依然清晰可辨。
4.  **圖表尺寸**：圖表尺寸必須精確匹配期刊的欄寬要求（例如，Nature 的單欄寬度為 89 毫米）。
5.  **多子圖組合**：提供了創建帶有清晰標籤（A, B, C...）的複雜多子圖的最佳實踐。
6.  **統計嚴謹性**：強制要求圖表中包含誤差線、樣本量 (n) 和統計顯著性標記。

**工具與資源**：
為了實踐這些原則，此技能提供了一套實用的工具：

*   **樣式表 (`.mplstyle` 文件)**：位於 `assets/` 目錄下，為不同的期刊（`nature.mplstyle`）和通用出版（`publication.mplstyle`）預設了 Matplotlib 樣式。
*   **輔助腳本 (`scripts/`)**：
    *   `style_presets.py`：用於通過代碼應用樣式和調色板的函數。
    *   `figure_export.py`：用於以正確的 DPI、格式和尺寸導出圖表的函數。
*   **調色板 (`assets/`)**：一個可直接導入的 Python 文件 `color_palettes.py`，其中定義了推薦的色盲安全調色板。

**工作流程**：
技能提倡一個結構化的工作流程：規劃 -> 配置（應用樣式） -> 創建 -> 驗證（檢查尺寸、字體） -> 導出（使用輔助腳本）。

**整合**：
文檔詳細展示了如何將這些出版原則應用於由 `matplotlib`、`seaborn` 和 `plotly` 創建的圖表。其中，關於 `seaborn` 的部分尤其詳盡，展示了如何將其高級統計圖與出版所需的精細控制相結合。

總之，`scientific-visualization` 是一套實用的指南和工具集，旨在將標準的數據圖表提升為專業、易於理解且符合期刊規範的科學圖。它關注的是可視化的「最後一里路」。

---

### 技能：`seaborn`

**用途**：
此技能專注於 Seaborn，一個基於 `matplotlib` 的高級統計可視化庫。它最大的優勢是與 `pandas` DataFrame 的深度集成，讓您可以用非常簡潔的代碼創建出複雜且美觀的統計圖表，是探索性數據分析 (EDA) 的利器。

**設計哲學**：

*   **面向數據集**：您直接操作整個 DataFrame，並通過列名來指定變量（例如 `x='total_bill'`, `y='tip'`），而不是處理抽象的坐標。
*   **統計感知**：許多圖表會自動執行統計估計。例如，`barplot` 會自動計算均值和 95% 信賴區間；`regplot` 會自動擬合併繪製線性迴歸線。
*   **美學默認值**：開箱即用，提供多種美觀的主題和調色板。

**核心接口**：

*   **函數接口**：傳統的 Seaborn 使用方式，為不同類型的圖表提供專門的函數（如 `sns.scatterplot()`, `sns.boxplot()`）。這些函數分為「軸級」(Axes-level) 和「圖級」(Figure-level)。
*   **對象接口**：一個更新、更靈活、可組合的 API (`seaborn.objects`)，允許您像 `ggplot2` 一樣，通過逐層添加組件來構建圖表。

**主要繪圖功能**：
Seaborn 根據用途將其繪圖函數分類：

*   **關係圖 (`scatterplot`, `lineplot`)**：用於展示兩個或多個變量之間的關係。`lineplot` 特別強大，它會自動聚合數據並顯示信賴區間。
*   **分佈圖 (`histplot`, `kdeplot`, `pairplot`)**：用於理解單個變量或多個變量之間的分佈情況。`pairplot` 是其明星功能，可以快速可視化整個數據集中所有變量兩兩之間的關係。
*   **分類圖 (`boxplot`, `violinplot`, `barplot`, `swarmplot`)**：用於比較同一個連續變量在不同分類下的分佈情況。
*   **矩陣圖 (`heatmap`, `clustermap`)**：用於可視化矩陣形式的數據，如相關係數矩陣。`clustermap` 還會額外進行層級聚類。

**圖級 (Figure-level) vs. 軸級 (Axes-level)**：
這是 Seaborn 的一個核心概念：

*   **軸級函數** (如 `sns.histplot`)：繪製在一個指定的 `matplotlib` 坐標軸上 (`ax=...`)，非常適合用來構建自定義的、複雜的多子圖布局。
*   **圖級函數** (如 `sns.displot`)：會創建一個全新的圖窗，並能自動處理分面（`col=...`, `row=...`），即根據某個分類變量自動生成多個子圖。它們非常適合快速探索，但在自定義佈局方面靈活性較低。

**整合性**：
Seaborn 與 `matplotlib` 無縫集成，您隨時可以用 `matplotlib` 的命令來微調由 Seaborn 創建的圖表。`scientific-visualization` 技能正是利用了這一點，來製作符合出版標準的 Seaborn 圖表。

總之，`seaborn` 是直接從 `pandas` DataFrame 快速生成富有洞察力且美觀的統計可視化圖表的首選技能。

---

### 技能：`statistical-analysis`

**用途**：
這是一項全面的「元技能」，旨在引導用戶完成學術研究中**正式統計分析**的全過程。它不介紹單一的庫，而是解釋如何結合使用多個庫（如 `scipy.stats`, `statsmodels`, `pingouin`, `pymc`）來正確地執行分析。

**核心功能與工作流程**：
該技能圍繞一個典型的研究工作流程構建：

1.  **選擇檢驗方法**：提供決策樹和快速參考指南 (`references/test_selection_guide.md`)，幫助用戶根據研究問題和數據類型選擇最合適的統計檢驗（如 t-檢驗, ANOVA, 卡方檢驗）。
2.  **檢查假設前提**：**極其強調**在運行檢驗之前，必須檢查其統計假設前提。它提供了一個自動化腳本 (`scripts/assumption_checks.py`) 來檢查數據的正態性、方差齊性、異常值等。如果假設不滿足，它還會提供明確的應對建議（例如，使用非參數檢驗方法）。
3.  **執行統計檢驗**：展示如何使用 `pingouin`（用戶友好）和 `statsmodels`（高級迴歸）等庫來運行檢驗。同時，它也介紹了貝葉斯統計作為一種現代的替代方法。
4.  **效應量與統計功效**：強調計算和報告效應量（如 Cohen's d, η²）的重要性，以量化發現的幅度，而不僅僅是其統計顯著性。它還涵蓋了用於規劃研究的功效分析 (Power Analysis)。
5.  **結果報告**：一個主要重點是按照標準的 **APA（美國心理學會）格式**來報告結果。它為 t-檢驗、ANOVA 和迴歸分析提供了清晰的報告模板，確保所有必要的統計數據都包含在內。

**工具與資源**：
*   **參考指南 (`references/`)**：詳細的 Markdown 文件，涵蓋了檢驗選擇、假設診斷、效應量、貝葉斯方法和報告標準。
*   **輔助腳本 (`scripts/assumption_checks.py`)**：一個關鍵的實用工具，用於自動化假設前提的檢查過程。

**最佳實踐**：
此技能充滿了嚴謹研究的最佳實踐，例如避免 p-hacking（p值操縱）、報告所有預先計劃的分析（而不僅僅是顯著的結果）、以及區分統計顯著性與實際重要性。

總之，`statistical-analysis` 就像一位專業的統計顧問。它引導用戶從最初的研究問題，到最終得出一個專業報告、統計上可靠的結論，並在每一步都強調嚴謹性和透明度。

---

### 技能：`sympy`

**用途**：
此技能專為使用 SymPy 庫而設計，它是一個用於**符號數學 (Symbolic Mathematics)** 的 Python 庫。與 NumPy 等處理數值近似的庫不同，SymPy 處理的是精確的、帶有符號的數學表達式。當您需要代數地求解方程、推導公式，或精確地執行微積分運算時，就應該使用它。

**核心功能**：

1.  **符號代數**：這是 SymPy 的基礎。您可以創建符號（`x, y = symbols('x y')`），並用它們來構建數學表達式。該庫提供了一系列函數來操作這些表達式，例如 `simplify`（化簡）、`expand`（展開）和 `factor`（因式分解）。
2.  **微積分**：它可以符號化地執行標準的微積分運算：求導 (`diff`)、積分 (`integrate`)、求極限 (`limit`) 和泰勒級數展開 (`series`)。
3.  **方程求解**：一個主要應用場景。它可以求解代數方程 (`solveset`)、線性和非線性方程組 (`linsolve`, `nonlinsolve`)，以及微分方程 (`dsolve`)。
4.  **線性代數**：擁有一個 `Matrix` 對象，允許進行符號化的線性代數運算，例如求行列式 (`.det()`)、逆矩陣 (`**-1`) 和特徵值/特徵向量 (`.eigenvals()`)。
5.  **代碼生成**：一個非常強大的功能是能夠將符號表達式轉換為可供 NumPy 使用的、快速的數值函數 (`lambdify`)，甚至可以從中生成 C 或 Fortran 代碼 (`codegen`)。它還可以生成用於文檔的 LaTeX 格式字符串。

**最佳實踐**：
*   在使用符號之前必須先定義它們。
*   為符號添加假設（如 `positive=True`），以幫助簡化引擎更好地工作。
*   使用精確的有理數（`Rational(1, 2)`）而非浮點數（`0.5`），以保持符號計算的精確性。
*   對於性能要求高的數值計算，應使用 `lambdify` 將符號表達式轉換為 NumPy 函數，而不是重複使用 `.subs()`。

**整合性**：
SymPy 被設計為與更廣泛的科學 Python 生態系統協同工作。典型的工作流程是：在 SymPy 中符號化地解決或推導一個問題，然後將結果轉換為一個數值函數，以便用 NumPy 進行快速計算，並用 Matplotlib 進行繪圖。

總之，`sympy` 將計算機代數系統（如 Mathematica 或 Maple）的能力直接帶入了 Python，允許對數學問題進行精確的、符號化的操作。